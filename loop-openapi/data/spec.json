{
   "openapi": "3.0.0",
   "info": {
      "version": "2.0.0",
      "title": "SourceAPI",
      "x-audience": "private-internal",
      "contact": {
         "name": "Swagger API Team",
         "email": "apiteam@swagger.io",
         "url": "http://swagger.io"
      },
      "license": {
         "name": "Apache 2.0",
         "url": "https://mettler.org/licenses/LICENSE-2.0.html"
      },
      "description": "<img src=\"https://cdn.ppolyzos.com/wp-content/uploads/2017/10/jwt-support-swagger-aspnet-core.png\" style=\"float:right;width:200px\"/>\n\n### API-Topics\n\n- la descrizione dei dati, eg. *Cartografia catastale in scala 1:2000*\n- i cs ontatti dell'ente che li pubblica, eg. *Agenzia delle Entrate\n\n`curl \"https://localhost:3000?limit=5\" -u \"$user:password\"`\n"
   },
   "servers": [
      {
         "url": "http://localhost:3000"
      }
   ],
   "tags": [
      {
         "name": "Health",
         "description": "Everything about my Health",
         "externalDocs": {
            "description": "Find out more",
            "url": "http://assona.io"
         }
      }
   ],
   "paths": {
      "/status": {
         "get": {
            "summary": "API-Health-Check",
            "tags": [
               "Health"
            ],
            "operationId": "getStatus",
            "x-controller-name": "StatusController",
            "x-operation-name": "getStatus",
            "description": "## Avaddilability, Latency, API-Status\n  * Debug interface for Salespartner integration\n  * To be Integrated with Monitoring-Solutions No rate-limiting!\n## Request-Debugging\n  * Request-Body will be echo'ed after successful validation <i>(if any)</i>\n  * Meaningful validation errors in JSON-Format\n",
            "parameters": [
               {
                  "description": "How many items to return at one time (max 100)",
                  "in": "query",
                  "name": "limit",
                  "schema": {
                     "format": "int32",
                     "type": "integer"
                  }
               }
            ],
            "responses": {
               "200": {
                  "description": "OK",
                  "content": {
                     "application/json": {
                        "schema": {
                           "$ref": "#/components/schemas/Person"
                        }
                     }
                  },
                  "links": {
                     "GetUserByUserId": {
                        "operationId": "getUser",
                        "parameters": {
                           "userId": "$response.body#/id"
                        },
                        "description": "The `id` value returned in the response can be used as the `userId` parameter in `GET /users/{userId}`.\n"
                     }
                  }
               },
               "400": {
                  "description": "Bad Request",
                  "content": {
                     "application/problem+json": {
                        "schema": {
                           "properties": {
                              "detail": {
                                 "description": "A human readable explanation specific to this occurrence of the\nproblem. You MUST NOT expose internal informations, personal\ndata or implementation details through this field.\n",
                                 "example": "Request took too long to complete.",
                                 "type": "string"
                              },
                              "instance": {
                                 "description": "An absolute URI that identifies the specific occurrence of the problem.\nIt may or may not yield further information if dereferenced.\n",
                                 "format": "uri",
                                 "type": "string"
                              },
                              "status": {
                                 "description": "The HTTP status code generated by the origin server for this occurrence\nof the problem.\n",
                                 "example": 503,
                                 "exclusiveMaximum": true,
                                 "format": "int32",
                                 "maximum": 600,
                                 "minimum": 100,
                                 "type": "integer"
                              },
                              "title": {
                                 "description": "A short, summary of the problem type. Written in english and readable\nfor engineers (usually not suited for non technical stakeholders and\nnot localized); example: Service Unavailable\n",
                                 "type": "string"
                              },
                              "type": {
                                 "default": "about:blank",
                                 "description": "An absolute URI that identifies the problem type.  When dereferenced,\nit SHOULD provide human-readable documentation for the problem type\n(e.g., using HTML).\n",
                                 "example": "https://tools.ietf.org/html/rfc7231#section-6.6.4",
                                 "format": "uri",
                                 "type": "string"
                              }
                           },
                           "type": "object"
                        }
                     }
                  }
               },
               "401": {
                  "description": "Unauthorized",
                  "content": {
                     "application/problem+json": {
                        "schema": {
                           "properties": {
                              "detail": {
                                 "description": "A human readable explanation specific to this occurrence of the\nproblem. You MUST NOT expose internal informations, personal\ndata or implementation details through this field.\n",
                                 "example": "Request took too long to complete.",
                                 "type": "string"
                              },
                              "instance": {
                                 "description": "An absolute URI that identifies the specific occurrence of the problem.\nIt may or may not yield further information if dereferenced.\n",
                                 "format": "uri",
                                 "type": "string"
                              },
                              "status": {
                                 "description": "The HTTP status code generated by the origin server for this occurrence\nof the problem.\n",
                                 "example": 503,
                                 "exclusiveMaximum": true,
                                 "format": "int32",
                                 "maximum": 600,
                                 "minimum": 100,
                                 "type": "integer"
                              },
                              "title": {
                                 "description": "A short, summary of the problem type. Written in english and readable\nfor engineers (usually not suited for non technical stakeholders and\nnot localized); example: Service Unavailable\n",
                                 "type": "string"
                              },
                              "type": {
                                 "default": "about:blank",
                                 "description": "An absolute URI that identifies the problem type.  When dereferenced,\nit SHOULD provide human-readable documentation for the problem type\n(e.g., using HTML).\n",
                                 "example": "https://tools.ietf.org/html/rfc7231#section-6.6.4",
                                 "format": "uri",
                                 "type": "string"
                              }
                           },
                           "type": "object"
                        }
                     }
                  }
               },
               "403": {
                  "description": "Forbidden",
                  "content": {
                     "application/problem+json": {
                        "schema": {
                           "properties": {
                              "detail": {
                                 "description": "A human readable explanation specific to this occurrence of the\nproblem. You MUST NOT expose internal informations, personal\ndata or implementation details through this field.\n",
                                 "example": "Request took too long to complete.",
                                 "type": "string"
                              },
                              "instance": {
                                 "description": "An absolute URI that identifies the specific occurrence of the problem.\nIt may or may not yield further information if dereferenced.\n",
                                 "format": "uri",
                                 "type": "string"
                              },
                              "status": {
                                 "description": "The HTTP status code generated by the origin server for this occurrence\nof the problem.\n",
                                 "example": 503,
                                 "exclusiveMaximum": true,
                                 "format": "int32",
                                 "maximum": 600,
                                 "minimum": 100,
                                 "type": "integer"
                              },
                              "title": {
                                 "description": "A short, summary of the problem type. Written in english and readable\nfor engineers (usually not suited for non technical stakeholders and\nnot localized); example: Service Unavailable\n",
                                 "type": "string"
                              },
                              "type": {
                                 "default": "about:blank",
                                 "description": "An absolute URI that identifies the problem type.  When dereferenced,\nit SHOULD provide human-readable documentation for the problem type\n(e.g., using HTML).\n",
                                 "example": "https://tools.ietf.org/html/rfc7231#section-6.6.4",
                                 "format": "uri",
                                 "type": "string"
                              }
                           },
                           "type": "object"
                        }
                     }
                  }
               },
               "404": {
                  "content": {
                     "application/problem+json": {
                        "schema": {
                           "properties": {
                              "detail": {
                                 "description": "A human readable explanation specific to this occurrence of the\nproblem. You MUST NOT expose internal informations, personal\ndata or implementation details through this field.\n",
                                 "example": "Request took too long to complete.",
                                 "type": "string"
                              },
                              "instance": {
                                 "description": "An absolute URI that identifies the specific occurrence of the problem.\nIt may or may not yield further information if dereferenced.\n",
                                 "format": "uri",
                                 "type": "string"
                              },
                              "status": {
                                 "description": "The HTTP status code generated by the origin server for this occurrence\nof the problem.\n",
                                 "example": 503,
                                 "exclusiveMaximum": true,
                                 "format": "int32",
                                 "maximum": 600,
                                 "minimum": 100,
                                 "type": "integer"
                              },
                              "title": {
                                 "description": "A short, summary of the problem type. Written in english and readable\nfor engineers (usually not suited for non technical stakeholders and\nnot localized); example: Service Unavailable\n",
                                 "type": "string"
                              },
                              "type": {
                                 "default": "about:blank",
                                 "description": "An absolute URI that identifies the problem type.  When dereferenced,\nit SHOULD provide human-readable documentation for the problem type\n(e.g., using HTML).\n",
                                 "example": "https://tools.ietf.org/html/rfc7231#section-6.6.4",
                                 "format": "uri",
                                 "type": "string"
                              }
                           },
                           "type": "object"
                        }
                     }
                  },
                  "description": "Not Found"
               },
               "422": {
                  "description": "Schema validation failed.",
                  "content": {
                     "application/problem+json": {
                        "schema": {
                           "type": "object",
                           "properties": {
                              "ValidationError": {
                                 "description": "AJV Validation Error",
                                 "type": "object",
                                 "properties": {
                                    "path": {
                                       "type": "string",
                                       "example": "/properties/vendor"
                                    },
                                    "code": {
                                       "type": "string",
                                       "example": "required"
                                    },
                                    "message": {
                                       "type": "string",
                                       "example": "should have required property 'vendor'"
                                    },
                                    "info": {
                                       "type": "object",
                                       "properties": {
                                          "missingProperty": {
                                             "type": "string",
                                             "example": "vendor"
                                          }
                                       }
                                    }
                                 }
                              }
                           }
                        }
                     }
                  }
               },
               "429": {
                  "description": "Too many requests",
                  "content": {
                     "application/problem+json": {
                        "schema": {
                           "properties": {
                              "detail": {
                                 "description": "A human readable explanation specific to this occurrence of the\nproblem. You MUST NOT expose internal informations, personal\ndata or implementation details through this field.\n",
                                 "example": "Request took too long to complete.",
                                 "type": "string"
                              },
                              "instance": {
                                 "description": "An absolute URI that identifies the specific occurrence of the problem.\nIt may or may not yield further information if dereferenced.\n",
                                 "format": "uri",
                                 "type": "string"
                              },
                              "status": {
                                 "description": "The HTTP status code generated by the origin server for this occurrence\nof the problem.\n",
                                 "example": 503,
                                 "exclusiveMaximum": true,
                                 "format": "int32",
                                 "maximum": 600,
                                 "minimum": 100,
                                 "type": "integer"
                              },
                              "title": {
                                 "description": "A short, summary of the problem type. Written in english and readable\nfor engineers (usually not suited for non technical stakeholders and\nnot localized); example: Service Unavailable\n",
                                 "type": "string"
                              },
                              "type": {
                                 "default": "about:blank",
                                 "description": "An absolute URI that identifies the problem type.  When dereferenced,\nit SHOULD provide human-readable documentation for the problem type\n(e.g., using HTML).\n",
                                 "example": "https://tools.ietf.org/html/rfc7231#section-6.6.4",
                                 "format": "uri",
                                 "type": "string"
                              }
                           },
                           "type": "object"
                        }
                     }
                  },
                  "headers": {
                     "Retry-After": {
                        "description": "Retry contacting the endpoint *at least* after seconds.\nSee https://tools.ietf.org/html/rfc7231#section-7.1.3",
                        "schema": {
                           "format": "int32",
                           "type": "integer"
                        }
                     },
                     "X-RateLimit-Limit": {
                        "description": "The number of allowed requests in the current period",
                        "schema": {
                           "format": "int32",
                           "type": "integer"
                        }
                     },
                     "X-RateLimit-Remaining": {
                        "description": "The number of remaining requests in the current period",
                        "schema": {
                           "format": "int32",
                           "type": "integer"
                        }
                     },
                     "X-RateLimit-Reset": {
                        "description": "The number of seconds left in the current period",
                        "schema": {
                           "format": "int32",
                           "type": "integer"
                        }
                     }
                  }
               },
               "503": {
                  "content": {
                     "application/problem+json": {
                        "schema": {
                           "properties": {
                              "detail": {
                                 "description": "A human readable explanation specific to this occurrence of the\nproblem. You MUST NOT expose internal informations, personal\ndata or implementation details through this field.\n",
                                 "example": "Request took too long to complete.",
                                 "type": "string"
                              },
                              "instance": {
                                 "description": "An absolute URI that identifies the specific occurrence of the problem.\nIt may or may not yield further information if dereferenced.\n",
                                 "format": "uri",
                                 "type": "string"
                              },
                              "status": {
                                 "description": "The HTTP status code generated by the origin server for this occurrence\nof the problem.\n",
                                 "example": 503,
                                 "exclusiveMaximum": true,
                                 "format": "int32",
                                 "maximum": 600,
                                 "minimum": 100,
                                 "type": "integer"
                              },
                              "title": {
                                 "description": "A short, summary of the problem type. Written in english and readable\nfor engineers (usually not suited for non technical stakeholders and\nnot localized); example: Service Unavailable\n",
                                 "type": "string"
                              },
                              "type": {
                                 "default": "about:blank",
                                 "description": "An absolute URI that identifies the problem type.  When dereferenced,\nit SHOULD provide human-readable documentation for the problem type\n(e.g., using HTML).\n",
                                 "example": "https://tools.ietf.org/html/rfc7231#section-6.6.4",
                                 "format": "uri",
                                 "type": "string"
                              }
                           },
                           "type": "object"
                        }
                     }
                  },
                  "description": "Service Unavailable",
                  "headers": {
                     "Retry-After": {
                        "description": "Retry contacting the endpoint *at least* after seconds.\nSee https://tools.ietf.org/html/rfc7231#section-7.1.3",
                        "schema": {
                           "format": "int32",
                           "type": "integer"
                        }
                     }
                  }
               },
               "4XX": {
                  "description": "Client Error",
                  "content": {
                     "application/problem+json": {
                        "schema": {
                           "properties": {
                              "detail": {
                                 "description": "A human readable explanation specific to this occurrence of the\nproblem. You MUST NOT expose internal informations, personal\ndata or implementation details through this field.\n",
                                 "example": "Request took too long to complete.",
                                 "type": "string"
                              },
                              "instance": {
                                 "description": "An absolute URI that identifies the specific occurrence of the problem.\nIt may or may not yield further information if dereferenced.\n",
                                 "format": "uri",
                                 "type": "string"
                              },
                              "status": {
                                 "description": "The HTTP status code generated by the origin server for this occurrence\nof the problem.\n",
                                 "example": 503,
                                 "exclusiveMaximum": true,
                                 "format": "int32",
                                 "maximum": 600,
                                 "minimum": 100,
                                 "type": "integer"
                              },
                              "title": {
                                 "description": "A short, summary of the problem type. Written in english and readable\nfor engineers (usually not suited for non technical stakeholders and\nnot localized); example: Service Unavailable\n",
                                 "type": "string"
                              },
                              "type": {
                                 "default": "about:blank",
                                 "description": "An absolute URI that identifies the problem type.  When dereferenced,\nit SHOULD provide human-readable documentation for the problem type\n(e.g., using HTML).\n",
                                 "example": "https://tools.ietf.org/html/rfc7231#section-6.6.4",
                                 "format": "uri",
                                 "type": "string"
                              }
                           },
                           "type": "object"
                        }
                     }
                  }
               },
               "5XX": {
                  "description": "Server Error",
                  "content": {
                     "application/problem+json": {
                        "schema": {
                           "properties": {
                              "detail": {
                                 "description": "A human readable explanation specific to this occurrence of the\nproblem. You MUST NOT expose internal informations, personal\ndata or implementation details through this field.\n",
                                 "example": "Request took too long to complete.",
                                 "type": "string"
                              },
                              "instance": {
                                 "description": "An absolute URI that identifies the specific occurrence of the problem.\nIt may or may not yield further information if dereferenced.\n",
                                 "format": "uri",
                                 "type": "string"
                              },
                              "status": {
                                 "description": "The HTTP status code generated by the origin server for this occurrence\nof the problem.\n",
                                 "example": 503,
                                 "exclusiveMaximum": true,
                                 "format": "int32",
                                 "maximum": 600,
                                 "minimum": 100,
                                 "type": "integer"
                              },
                              "title": {
                                 "description": "A short, summary of the problem type. Written in english and readable\nfor engineers (usually not suited for non technical stakeholders and\nnot localized); example: Service Unavailable\n",
                                 "type": "string"
                              },
                              "type": {
                                 "default": "about:blank",
                                 "description": "An absolute URI that identifies the problem type.  When dereferenced,\nit SHOULD provide human-readable documentation for the problem type\n(e.g., using HTML).\n",
                                 "example": "https://tools.ietf.org/html/rfc7231#section-6.6.4",
                                 "format": "uri",
                                 "type": "string"
                              }
                           },
                           "type": "object"
                        }
                     }
                  }
               }
            }
         }
      },
      "/": {
         "get": {
            "tags": [
               "metadata"
            ],
            "operationId": "list-data-sets",
            "summary": "List available data sets",
            "responses": {
               "200": {
                  "description": "Returns a list of data sets",
                  "content": {
                     "application/json": {
                        "schema": {
                           "type": "object",
                           "properties": {
                              "total": {
                                 "type": "integer"
                              },
                              "apis": {
                                 "type": "array",
                                 "items": {
                                    "type": "object",
                                    "properties": {
                                       "apiKey": {
                                          "type": "string",
                                          "description": "To be used as a dataset parameter value"
                                       },
                                       "apiVersionNumber": {
                                          "type": "string",
                                          "description": "To be used as a version parameter value"
                                       },
                                       "apiUrl": {
                                          "type": "string",
                                          "format": "uriref",
                                          "description": "The URL describing the dataset's fields"
                                       },
                                       "apiDocumentationUrl": {
                                          "type": "string",
                                          "format": "uriref",
                                          "description": "A URL to the API console for each API"
                                       }
                                    }
                                 }
                              }
                           }
                        },
                        "example": {
                           "total": 2,
                           "apis": [
                              {
                                 "apiKey": "oa_citations",
                                 "apiVersionNumber": "v1",
                                 "apiUrl": "https://developer.uspto.gov/ds-api/oa_citations/v1/fields",
                                 "apiDocumentationUrl": "https://developer.uspto.gov/ds-api-docs/index.html?url=https://developer.uspto.gov/ds-api/swagger/docs/oa_citations.json"
                              },
                              {
                                 "apiKey": "cancer_moonshot",
                                 "apiVersionNumber": "v1",
                                 "apiUrl": "https://developer.uspto.gov/ds-api/cancer_moonshot/v1/fields",
                                 "apiDocumentationUrl": "https://developer.uspto.gov/ds-api-docs/index.html?url=https://developer.uspto.gov/ds-api/swagger/docs/cancer_moonshot.json"
                              }
                           ]
                        }
                     }
                  }
               }
            }
         }
      },
      "/{dataset}/{version}/fields": {
         "get": {
            "tags": [
               "metadata"
            ],
            "summary": "Provides the general information about the API and the list of fields that can be used to query the dataset.",
            "description": "This GET API returns the list of all the searchable field names that are in the oa_citations. Please see the 'fields' attribute which returns an array of field names. Each field or a combination of fields can be searched using the syntax options shown below.",
            "operationId": "list-searchable-fields",
            "parameters": [
               {
                  "name": "dataset",
                  "in": "path",
                  "description": "Name of the dataset.",
                  "required": true,
                  "example": "oa_citations",
                  "schema": {
                     "type": "string"
                  }
               },
               {
                  "name": "version",
                  "in": "path",
                  "description": "Version of the dataset.",
                  "required": true,
                  "example": "v1",
                  "schema": {
                     "type": "string"
                  }
               }
            ],
            "responses": {
               "200": {
                  "description": "The dataset API for the given version is found and it is accessible to consume.",
                  "content": {
                     "application/json": {
                        "schema": {
                           "type": "string"
                        }
                     }
                  }
               },
               "404": {
                  "description": "The combination of dataset name and version is not found in the system or it is not published yet to be consumed by public.",
                  "content": {
                     "application/json": {
                        "schema": {
                           "type": "string"
                        }
                     }
                  }
               }
            }
         }
      },
      "/{dataset}/{version}/records": {
         "post": {}
      }
   },
   "components": {
      "schemas": {
         "Health": {
            "properties": {
               "message": {
                  "type": "object",
                  "properties": {
                     "id": {
                        "type": "string"
                     }
                  }
               }
            }
         },
         "Person": {
            "externalDocs": {
               "url": "https://w3id.org/italia/onto/CPV"
            },
            "properties": {
               "family_name": {
                  "type": "string"
               },
               "given_name": {
                  "type": "string"
               },
               "tax_code": {
                  "description": "Il codice fiscale.",
                  "example": "RSSMRA75L01H501A",
                  "externalDocs": {
                     "url": "https://w3id.org/italia/onto/CPV/taxCode"
                  },
                  "pattern": "/^(?:(?:[B-DF-HJ-NP-TV-Z]|[AEIOU])[AEIOU][AEIOUX]|[B-DF-HJ-NP-TV-Z]{2}[A-Z]){2}[\\dLMNP-V]{2}(?:[A-EHLMPR-T](?:[04LQ][1-9MNP-V]|[1256LMRS][\\dLMNP-V])|[DHPS][37PT][0L]|[ACELMRT][37PT][01LM])(?:[A-MZ][1-9MNP-V][\\dLMNP-V]{2}|[A-M][0L](?:[1-9MNP-V][\\dLMNP-V]|[0L][1-9MNP-V]))[A-Z]$/i",
                  "type": "string"
               }
            }
         }
      }
   }
}