{
  "swagger": "2.0",
  "info":
    {
      "contact": { "email": "Stephane.Carrez@gmail.com" },
      "description": "Todo API",
      "license":
        {
          "name": "Apache 2.0",
          "url": "http://www.apache.org/licenses/LICENSE-2.0.html",
        },
      "termsOfService": "https://todo.vacs.fr/terms/",
      "title": "Todo API",
      "version": "1.0.0",
    },
  "host": "todo.vacs.fr",
  "basePath": "/v1",
  "schemes": ["https"],
  "paths":
    {
      "/todos":
        {
          "get":
            {
              "produces": ["application/json"],
              "parameters":
                [
                  {
                    "description": "Filters the tasks by their status",
                    "enum": ["done", "waiting", "working", "all"],
                    "in": "query",
                    "name": "status",
                    "required": false,
                    "type": "string",
                  },
                ],
              "responses":
                {
                  "200":
                    {
                      "description": "successful operation",
                      "schema":
                        {
                          "items": { "$ref": "#/definitions/Todo" },
                          "type": "array",
                        },
                    },
                  "400": { "description": "Invalid status value" },
                },
              "security": [{ "todo_auth": ["read:todo"] }],
              "tags": ["tasks"],
              "description": "The list of tasks can be filtered by their status.\n",
              "operationId": "listTodos",
              "summary": "List the available tasks",
            },
          "post":
            {
              "consumes": ["application/x-www-form-urlencoded"],
              "produces": ["application/json"],
              "parameters":
                [
                  {
                    "description": "The todo title",
                    "in": "formData",
                    "name": "title",
                    "type": "string",
                  },
                ],
              "responses":
                {
                  "200":
                    {
                      "description": "successful operation",
                      "schema": { "$ref": "#/definitions/Todo" },
                    },
                  "405": { "description": "Invalid input" },
                },
              "security": [{ "todo_auth": ["write:todo"] }],
              "tags": ["tasks"],
              "description": "",
              "operationId": "createTodo",
              "summary": "Create a todo",
            },
        },
      "/todos/{todoId}":
        {
          "delete":
            {
              "parameters":
                [
                  {
                    "description": "The todo identifier",
                    "format": "int64",
                    "in": "path",
                    "name": "todoId",
                    "required": true,
                    "type": "integer",
                  },
                ],
              "responses":
                {
                  "204": { "description": "No content.\n" },
                  "404": { "description": "The todo does not exist.\n" },
                },
              "security": [{ "todo_auth": ["write:todo"] }],
              "tags": ["tasks"],
              "description": "Delete the todo\n",
              "operationId": "deleteTodo",
              "summary": "Delete the todo",
            },
          "put":
            {
              "consumes": ["application/x-www-form-urlencoded"],
              "produces": ["application/json"],
              "parameters":
                [
                  {
                    "description": "The todo identifier",
                    "format": "int64",
                    "in": "path",
                    "name": "todoId",
                    "required": true,
                    "type": "integer",
                  },
                  {
                    "description": "The todo title",
                    "in": "formData",
                    "name": "title",
                    "type": "string",
                  },
                  {
                    "description": "The todo status",
                    "enum": ["working", "waiting", "done"],
                    "in": "formData",
                    "name": "status",
                    "type": "string",
                  },
                ],
              "responses":
                {
                  "200":
                    {
                      "description": "successful operation",
                      "schema": { "$ref": "#/definitions/Todo" },
                    },
                  "404": { "description": "The todo does not exist.\n" },
                },
              "security": [{ "todo_auth": ["write:todo"] }],
              "tags": ["tasks"],
              "description": "Update the todo title and status\n",
              "operationId": "updateTodo",
              "summary": "Update the todo",
            },
        },
    },
  "definitions":
    {
      "Todo":
        {
          "example":
            {
              "create_date": "2017-12-24T00:00:00.000Z",
              "description": "password",
              "id": 23,
              "status": "working",
              "title": "Make the FOSDEM presentation",
            },
          "properties":
            {
              "create_date":
                {
                  "description": "The todo creation date",
                  "format": "date-time",
                  "type": "string",
                },
              "done_date":
                {
                  "description": "The todo resolution date",
                  "format": "date-time",
                  "type": "string",
                },
              "id":
                {
                  "description": "The todo identifier",
                  "format": "int64",
                  "type": "integer",
                },
              "status":
                {
                  "description": "The todo state",
                  "enum": ["waiting", "working", "done"],
                  "type": "string",
                },
              "title": { "description": "The todo title", "type": "string" },
            },
          "required": ["id", "title", "status", "create_date"],
          "type": "object",
          "xml": { "name": "Todo" },
        },
    },
  "securityDefinitions":
    {
      "todo_auth":
        {
          "flow": "password",
          "scopes":
            { "read:todo": "Read a todo", "write:todo": "Write a todo" },
          "tokenUrl": "http://localhost:8080/v1/oauth/token",
          "type": "oauth2",
        },
    },
  "security": [{ "todo_auth": [] }],
  "tags": [{ "description": "Tasks", "name": "tasks" }],
  "externalDocs":
    {
      "description": "Find out more about Swagger",
      "url": "http://swagger.io",
    },
  "x-components": {},
}
